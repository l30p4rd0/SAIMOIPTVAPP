import{n as e,t}from"./rolldown-runtime-DF2fYuay.js";var n=t((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function ee(e,t){return E(e.type,t,e.props)}function D(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function O(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var k=/\/+/g;function A(e,t){return typeof e==`object`&&e&&e.key!=null?O(``+e.key):t.toString(36)}function te(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function j(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,j(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+A(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(k,`$&/`)+`/`),j(o,r,i,``,function(e){return e})):o!=null&&(D(o)&&(o=ee(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(k,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+A(a,u),c+=j(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+A(a,u++),c+=j(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return j(te(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function M(e,t,n){if(e==null)return e;var r=[],i=0;return j(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ne(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var re=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},N={map:M,forEach:function(e,t,n){M(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return M(e,function(){t++}),t},toArray:function(e){return M(e,function(e){return e})||[]},only:function(e){if(!D(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=N,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=D,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ne}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,re)}catch(e){re(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),r=t(((e,t)=>{t.exports=n()})),i=t((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),a=t(((e,t)=>{t.exports=i()})),o=`https://raw.githubusercontent.com/Ramys/Iptv-Brasil-2026/refs/heads/master/CanaisBR%20-%20Completo.m3u8`,s=null,c=null;function l(e){return e.toLowerCase().normalize(`NFD`).replace(/[\u0300-\u036f]/g,``).replace(/[^a-z0-9\s]/g,``).replace(/\s+/g,` `).trim()}async function u(){return s||c||(c=(async()=>{try{console.log(`ðŸ”„ Buscando lista M3U atualizada...`);let e=await fetch(o);if(!e.ok)throw Error(`Falha ao baixar M3U: ${e.statusText}`);let t=await e.text(),n=new Map,r=t.split(`
`),i=``;for(let e=0;e<r.length;e++){let t=r[e].trim();if(t.startsWith(`#EXTINF:`)){let e=t.match(/tvg-name="([^"]+)"/);if(e)i=e[1];else{let e=t.split(`,`);i=e[e.length-1].trim()}}else if(t&&!t.startsWith(`#`)&&i){let e=l(i);e&&n.set(e,t),i=``}}return console.log(`âœ… Lista M3U processada: ${n.size} itens encontrados`),s=n,n}catch(e){return console.error(`âŒ Erro ao processar M3U:`,e),new Map}})(),c)}function d(e){return l(e.replace(/\[L\]/gi,``).replace(/\[LEG\]/gi,``).replace(/\[XL\]/gi,``).replace(/\(Legendado\)/gi,``).replace(/ - Legendado/gi,``).replace(/ Legendado/gi,``))}function f(e,t,n){if(!e)return;let r=l(e),i=n.get(r);if(i)return i;if(e.match(/\[(LEG|L|XL|SUB)\]/i)||e.match(/Legendado/i)){let t=d(e),r=[`${t} l`,`${t} leg`,`${t} legendado`,`${t} legendadas`,`${t} xl`,`${t} sub`];for(let e of r)if(i=n.get(l(e)),i)return i}let a=d(e);if(i=n.get(a),i)return i;let o=a.replace(/\d{4}/,``).trim();if(o!==a&&(i=n.get(l(o)),i))return i;if(t){let e=l(t);if(i=n.get(e),i)return i}let s=r.match(/(.*?)s(\d+)\s*e(\d+)/i);if(s){let[,e,t,r]=s,a=t.padStart(2,`0`),o=r.padStart(2,`0`),c=[`${e} s${a}e${o}`,`${e} s${a} e${o}`,`${e} t${a}e${o}`,`${e} ${a}x${o}`];for(let e of c)if(i=n.get(e.trim()),i)return i}}var p=new Map,m=new Map,h=new Map,g=new Set,_=new Set,v=new Set,y=new Set,b=new Map,x=!1,S=null,C=[{name:`ðŸŽ¬ LanÃ§amentos`,file:`lancamentos.json`,count:0,isAdult:!1},{name:`ðŸ“º Netflix`,file:`netflix.json`,count:0,isAdult:!1},{name:`ðŸ“º Prime Video`,file:`prime-video.json`,count:0,isAdult:!1},{name:`ðŸ“º Disney+`,file:`disney.json`,count:0,isAdult:!1},{name:`ðŸ“º Max`,file:`max.json`,count:0,isAdult:!1},{name:`ðŸ“º Globoplay`,file:`globoplay.json`,count:0,isAdult:!1},{name:`ðŸ“º Apple TV+`,file:`apple-tv.json`,count:0,isAdult:!1},{name:`ðŸ“º Paramount+`,file:`paramount.json`,count:0,isAdult:!1},{name:`ðŸ“º Star+`,file:`star.json`,count:0,isAdult:!1},{name:`ðŸ“º Crunchyroll`,file:`crunchyroll.json`,count:0,isAdult:!1},{name:`ðŸ“º Funimation`,file:`funimation-now.json`,count:0,isAdult:!1},{name:`ðŸ“º Discovery+`,file:`discovery.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ 4K UHD`,file:`uhd-4k.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ AÃ§Ã£o`,file:`acao.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ ComÃ©dia`,file:`comedia.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Drama`,file:`drama.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Terror`,file:`terror.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ FicÃ§Ã£o CientÃ­fica`,file:`ficcao-cientifica.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ AnimaÃ§Ã£o`,file:`animacao.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Fantasia`,file:`fantasia.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Aventura`,file:`aventura.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Romance`,file:`romance.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Suspense`,file:`suspense.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Crime`,file:`crime.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ DocumentÃ¡rio`,file:`documentario.json`,count:0,isAdult:!1},{name:`ðŸ“º Doramas`,file:`doramas.json`,count:0,isAdult:!1},{name:`ðŸ“º Novelas`,file:`novelas.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Legendados`,file:`legendados.json`,count:0,isAdult:!1},{name:`ðŸ“º Legendadas`,file:`legendadas.json`,count:0,isAdult:!1},{name:`ðŸŽ¬ Nacionais`,file:`nacionais.json`,count:0,isAdult:!1},{name:`ðŸ‡§ðŸ‡· Brasil Paralelo`,file:`brasil-paralelo.json`,count:0,isAdult:!1}],w=[{name:`ðŸ”ž Adultos`,file:`hot-adultos.json`,count:0,isAdult:!0},{name:`ðŸ”ž Adultos - Bella da Semana`,file:`hot-adultos-bella-da-semana.json`,count:0,isAdult:!0},{name:`ðŸ”ž Adultos - Legendado`,file:`hot-adultos-legendado.json`,count:0,isAdult:!0}];const T=[`ðŸŽ¬ LanÃ§amentos`,`ðŸ“º Netflix`,`ðŸ“º Apple TV+`,`ðŸ“º Prime Video`,`ðŸ“º Disney+`,`ðŸ“º Max`,`ðŸ“º Crunchyroll`,`ðŸ“º Discovery+`,`ðŸ“º Globoplay`,`ðŸŽ¬ Legendados`,`ðŸ“º Legendadas`,`ðŸ“º Paramount+`,`ðŸ“º Star+`],E=[`ðŸŽ¬ AÃ§Ã£o`,`ðŸŽ¬ ComÃ©dia`,`ðŸŽ¬ Drama`,`ðŸŽ¬ Terror`,`ðŸŽ¬ FicÃ§Ã£o CientÃ­fica`,`ðŸŽ¬ AnimaÃ§Ã£o`,`ðŸŽ¬ Fantasia`,`ðŸŽ¬ Aventura`,`ðŸŽ¬ Romance`,`ðŸŽ¬ Suspense`,`ðŸŽ¬ Crime`,`ðŸŽ¬ DocumentÃ¡rio`];var ee={"Netflix Standard with Ads":`Netflix`,"Amazon Prime Video with Ads":`Amazon Prime Video`,"HBO Max":`Max`,"HBO Max Amazon Channel":`Max`,"HBO Max  Amazon Channel":`Max`,"Paramount Plus":`Paramount+`,"Paramount+ Amazon Channel":`Paramount+`,"Paramount Plus Premium":`Paramount+`,"Paramount Plus Apple TV Channel ":`Paramount+`,"Disney Plus":`Disney+`,"Apple TV":`Apple TV+`,"Apple TV Amazon Channel":`Apple TV+`,"MGM+ Apple TV Channel":`MGM+`,"MGM Plus Amazon Channel":`MGM+`,"Crunchyroll Amazon Channel":`Crunchyroll`,"Looke Amazon Channel":`Looke`,"MUBI Amazon Channel":`MUBI`,"Telecine Amazon Channel":`Telecine`,"Claro tv+":`Claro Video`,"Claro video":`Claro Video`,"Universal+ Amazon Channel":`Universal+`,"Sony One Amazon Channel":`Sony`,"Lionsgate+ Amazon Channels":`Lionsgate+`,"Booh Amazon Channel":`Booh`,"Diamond Films Amazon Channel":`Diamond Films`,"Filmelier Plus Amazon Channel":`Filmelier+`,"CurtaOn Amazon Channel":`CurtaOn`,"Reserva Imovision Amazon Channel":`Reserva Imovision`,"Box Brazil Play Amazon Channel":`Box Brazil Play`,"Adrenalina Pura Amazon channel":`Adrenalina Pura`,"Adrenalina Pura Apple TV channel":`Adrenalina Pura`,"Adultswim Amazon Channel":`Adult Swim`,"Love Nature Amazon Channel":`Love Nature`,"Arte Amazon Channel":`Arte`,"Playkids Learning Amazon Channel":`PlayKids`,"Stingray Amazon Channel":`Stingray`,"Aquarius Amazon Channel":`Aquarius`,"Noggin Amazon Channel":`Noggin`,"Amazon Video":`Amazon Prime Video`,"Discovery +":`Discovery+`};function D(e){return ee[e]||e}async function O(e){if(p.has(e))return p.get(e);let t=await u(),n=C.find(t=>t.name===e);if(n||=w.find(t=>t.name===e),!n)return console.warn(`Categoria nÃ£o encontrada: ${e}`),[];try{let r=await fetch(`/data/enriched/${n.file}`);if(!r.ok)throw Error(`HTTP ${r.status}`);let i=await r.json();return n.count=i.length,m.set(e,n),p.set(e,i),k(i,t),i}catch(t){return console.error(`Erro ao carregar categoria ${e}:`,t),[]}}function k(e,t){for(let n of e){let e=f(n.name,n.tmdb?.originalTitle,t);if(e&&(n.url=e),n.type===`series`&&`episodes`in n){let e=n;Object.entries(e.episodes).forEach(([e,r])=>{r.forEach(r=>{let i=e.replace(/\D/g,``).padStart(2,`0`),a=String(r.episode).padStart(2,`0`),o=f(`${n.name} S${i} E${a}`,void 0,t);o&&(r.url=o)})})}n.tmdb&&(n.tmdb.genres?.forEach(e=>g.add(e)),n.tmdb.year&&_.add(n.tmdb.year),n.tmdb.certification&&v.add(n.tmdb.certification),n.tmdb.streaming?.forEach(e=>{let t=D(e);y.add(t)}),n.tmdb.keywords?.forEach(e=>{let t=e.toLowerCase();b.has(t)||b.set(t,new Set),b.get(t).add(n.id)}),n.tmdb.cast?.forEach(e=>{h.has(e.id)||h.set(e.id,{name:e.name,photo:e.photo,items:new Set}),h.get(e.id).items.add(n.id)}))}}async function A(){if(!x)return S||(S=(async()=>{console.log(`ðŸŽ¬ Inicializando dados enriched...`);let e=Date.now(),t=[`ðŸŽ¬ LanÃ§amentos`,`ðŸ“º Netflix`,`ðŸ“º Prime Video`,`ðŸ“º Disney+`,`ðŸ“º Max`];await u(),await Promise.all(t.map(e=>O(e))),x=!0,console.log(`âœ… Dados enriched inicializados em ${Date.now()-e}ms`);let n=C.filter(e=>!t.includes(e.name)).map(e=>e.name);for(let e=0;e<n.length;e+=3){let t=n.slice(e,e+3);await Promise.all(t.map(e=>O(e)))}console.log(`âœ… Todas as categorias carregadas!`)})(),S)}function te(){return Array.from(g).sort()}function j(){return Array.from(_).sort((e,t)=>parseInt(t)-parseInt(e))}function M(){let e=[`L`,`10`,`12`,`14`,`16`,`18`];return Array.from(v).sort((t,n)=>{let r=e.indexOf(t),i=e.indexOf(n);return r===-1&&i===-1?t.localeCompare(n):r===-1?1:i===-1?-1:r-i})}function ne(){let e=[`Netflix`,`Amazon Prime Video`,`Disney+`,`Max`,`Globoplay`,`Apple TV+`,`Paramount+`,`Crunchyroll`,`Star+`,`Discovery+`,`Telecine`,`Looke`,`MUBI`,`Claro Video`,`MGM+`,`Lionsgate+`,`Universal+`,`Sony`,`Oldflix`,`Univer Video`,`FilmBox+`,`Filmicca`,`Adult Swim`];return Array.from(y).sort((t,n)=>{let r=e.indexOf(t),i=e.indexOf(n);return r!==-1&&i!==-1?r-i:r===-1?i===-1?t.localeCompare(n):1:-1})}function re(e,t){let n=e.toLowerCase().trim();if(!n)return[];let r=[],i=new Set;return p.forEach(e=>{for(let a of e){if(i.has(a.id))continue;let e=a.name.toLowerCase().includes(n),o=a.tmdb?.title?.toLowerCase().includes(n),s=a.tmdb?.originalTitle?.toLowerCase().includes(n),c=a.tmdb?.keywords?.some(e=>e.toLowerCase().includes(n)),l=a.tmdb?.cast?.some(e=>e.name.toLowerCase().includes(n));if(e||o||s||c||l){if(t&&(t.type&&t.type!==`all`&&a.type!==t.type||t.genres?.length&&!a.tmdb?.genres?.some(e=>t.genres.includes(e))||t.years?.length&&!t.years.includes(a.tmdb?.year||``)||t.certifications?.length&&!t.certifications.includes(a.tmdb?.certification||``)))continue;i.add(a.id),r.push(a)}}}),r.sort((e,t)=>{let r=e.name.toLowerCase()===n||e.tmdb?.title?.toLowerCase()===n,i=t.name.toLowerCase()===n||t.tmdb?.title?.toLowerCase()===n;if(r&&!i)return-1;if(!r&&i)return 1;let a=e.tmdb?.rating||0;return(t.tmdb?.rating||0)-a})}function N(e,t){let n=(p.get(e)||[]).filter(e=>{if(t.type&&t.type!==`all`&&e.type!==t.type||t.genres?.length&&!e.tmdb?.genres?.some(e=>t.genres.includes(e))||t.years?.length&&!t.years.includes(e.tmdb?.year||``)||t.certifications?.length&&!t.certifications.includes(e.tmdb?.certification||``))return!1;if(t.ratings?.length){let n=Math.min(...t.ratings.map(e=>parseFloat(e)));if((e.tmdb?.rating||0)<n)return!1}return!(t.streaming?.length&&!e.tmdb?.streaming?.some(e=>{let n=D(e);return t.streaming.includes(n)}))});return t.sortBy&&n.sort((e,n)=>{let r=0,i=0;switch(t.sortBy){case`name`:r=e.tmdb?.title||e.name,i=n.tmdb?.title||n.name;break;case`rating`:r=e.tmdb?.rating||0,i=n.tmdb?.rating||0;break;case`year`:r=parseInt(e.tmdb?.year||`0`),i=parseInt(n.tmdb?.year||`0`);break;case`popularity`:r=e.tmdb?.popularity||0,i=n.tmdb?.popularity||0;break}let a=t.sortOrder===`asc`?1:-1;return typeof r==`string`?a*r.localeCompare(i):a*(i-r)}),n}function ie(e){let t=new Set,n=[];return p.forEach(r=>{for(let i of r)if(!t.has(i.id)&&!(e.type&&e.type!==`all`&&i.type!==e.type)&&!(e.genres?.length&&!i.tmdb?.genres?.some(t=>e.genres.includes(t)))&&!(e.years?.length&&!e.years.includes(i.tmdb?.year||``))&&!(e.certifications?.length&&!e.certifications.includes(i.tmdb?.certification||``))){if(e.ratings?.length){let t=Math.min(...e.ratings.map(e=>parseFloat(e)));if((i.tmdb?.rating||0)<t)continue}e.streaming?.length&&!i.tmdb?.streaming?.some(t=>{let n=D(t);return e.streaming.includes(n)})||(t.add(i.id),n.push(i))}}),e.sortBy&&n.sort((t,n)=>{let r=0,i=0;switch(e.sortBy){case`name`:r=t.tmdb?.title||t.name,i=n.tmdb?.title||n.name;break;case`rating`:r=t.tmdb?.rating||0,i=n.tmdb?.rating||0;break;case`year`:r=parseInt(t.tmdb?.year||`0`),i=parseInt(n.tmdb?.year||`0`);break;case`popularity`:default:r=t.tmdb?.popularity||0,i=n.tmdb?.popularity||0;break}let a=e.sortOrder===`asc`?1:-1;return typeof r==`string`?a*r.localeCompare(i):a*(i-r)}),n}function ae(e){let t=h.get(e);if(!t)return null;let n=[],r=[];p.forEach(e=>{for(let i of e)t.items.has(i.id)&&(i.type===`series`&&`episodes`in i?r.push(i):n.push(i))});let i=Array.from(new Map(n.map(e=>[e.id,e])).values()),a=Array.from(new Map(r.map(e=>[e.id,e])).values());return i.sort((e,t)=>(t.tmdb?.rating||0)-(e.tmdb?.rating||0)),a.sort((e,t)=>(t.tmdb?.rating||0)-(e.tmdb?.rating||0)),{actor:{id:e,name:t.name,character:``,photo:t.photo},movies:i,series:a}}function oe(e){let t=e.toLowerCase().trim();if(!t||t.length<2)return[];let n=[];return h.forEach((e,r)=>{e.name.toLowerCase().includes(t)&&n.push({id:r,name:e.name,character:``,photo:e.photo})}),n.sort((e,t)=>{let n=h.get(e.id)?.items.size||0;return(h.get(t.id)?.items.size||0)-n}).slice(0,20)}function se(e){for(let t of p.values()){let n=t.find(t=>t.id===e);if(n)return n}return null}function P(e){for(let t of p.values()){let n=t.find(t=>t.tmdb?.id===e);if(n)return n}return null}function ce(e){if(!e.tmdb?.recommendations?.length)return[];let t=[];for(let n of e.tmdb.recommendations){let e=P(n.id);e&&t.push(e)}return t.slice(0,10)}function le(e,t=10){if(!e.tmdb?.genres?.length)return[];let n=new Set(e.tmdb.genres),r=[],i=new Set([e.id]);return p.forEach(t=>{for(let a of t){if(i.has(a.id)||a.type!==e.type||!a.tmdb?.genres?.length)continue;let t=a.tmdb.genres.filter(e=>n.has(e));if(t.length===0)continue;let o=t.length*10+(a.tmdb.rating||0);i.add(a.id),r.push({movie:a,score:o})}}),r.sort((e,t)=>t.score-e.score).slice(0,t).map(e=>e.movie)}function ue(e=20){let t=[],n=new Set,r=new Date().getFullYear();return p.forEach(e=>{for(let i of e)n.has(i.id)||parseInt(i.tmdb?.year||`0`)<r-2||i.tmdb?.poster&&(n.add(i.id),t.push(i))}),t.sort((e,t)=>{let n=parseInt(e.tmdb?.year||`0`),r=parseInt(t.tmdb?.year||`0`);return n===r?(t.tmdb?.rating||0)-(e.tmdb?.rating||0):r-n}).slice(0,e)}var de=`15d2ea6d0dc1d476efbca3eba2b9bbfb`,F=`https://api.themoviedb.org/3`,I=null,L=null,R=0,z=0,B=1800*1e3;async function V(e){try{let t=await fetch(`${F}/trending/all/${e}?api_key=${de}&language=pt-BR&page=1`);if(!t.ok)return console.error(`Erro ao buscar tendÃªncias TMDB: ${t.status}`),[];let n=await t.json(),r=[];for(let t=2;t<=Math.min(5,n.total_pages);t++)r.push(fetch(`${F}/trending/all/${e}?api_key=${de}&language=pt-BR&page=${t}`).then(e=>e.ok?e.json():{results:[]}).catch(()=>({results:[]})));let i=await Promise.all(r);return[...n.results,...i.flatMap(e=>e.results||[])]}catch(e){return console.error(`Erro ao buscar tendÃªncias TMDB:`,e),[]}}function H(e){let t=[],n=new Set;for(let r of e){let e=P(r.id);e&&!n.has(e.id)&&(n.add(e.id),t.push(e))}return t}async function fe(){let e=Date.now();if(I&&e-R<B)return I;await A(),console.log(`ðŸ”¥ Buscando tendÃªncias de hoje no TMDB...`);let t=H(await V(`day`));return console.log(`âœ… Encontrados ${t.length} itens de tendÃªncias de hoje no catÃ¡logo`),I=t,R=e,t}async function pe(){let e=Date.now();if(L&&e-z<B)return L;await A(),console.log(`ðŸ“… Buscando tendÃªncias da semana no TMDB...`);let t=H(await V(`week`));return console.log(`âœ… Encontrados ${t.length} itens de tendÃªncias da semana no catÃ¡logo`),L=t,z=e,t}var U=`tv-saimo-favorites`;function W(){try{let e=localStorage.getItem(U);return e?JSON.parse(e):[]}catch(e){return console.error(`Erro ao ler favoritos do localStorage:`,e),[]}}function G(e){try{localStorage.setItem(U,JSON.stringify(e))}catch(e){console.error(`Erro ao salvar favoritos no localStorage:`,e)}}function K(e){return W().some(t=>t.id===e)}function q(e){let t=W();t.some(t=>t.id===e)||(t.unshift({id:e,addedAt:Date.now()}),G(t),window.dispatchEvent(new CustomEvent(`favorites-changed`,{detail:{action:`add`,itemId:e}})))}function J(e){G(W().filter(t=>t.id!==e)),window.dispatchEvent(new CustomEvent(`favorites-changed`,{detail:{action:`remove`,itemId:e}}))}function me(e){return K(e)?(J(e),!1):(q(e),!0)}function he(){let e=W(),t=[];for(let n of e){let e=se(n.id);e&&t.push(e)}return t}var Y=e(r(),1),X=e(a(),1),Z=(0,Y.memo)(function({src:e,alt:t,className:n=``,fallback:r}){let[i,a]=(0,Y.useState)(!1),[o,s]=(0,Y.useState)(!1),c=(0,Y.useRef)(null),[l,u]=(0,Y.useState)(!1);return(0,Y.useEffect)(()=>{let e=new IntersectionObserver(([t])=>{t.isIntersecting&&(u(!0),e.disconnect())},{rootMargin:`200px`});return c.current&&e.observe(c.current),()=>e.disconnect()},[]),!e||o?(0,X.jsx)(`div`,{className:`lazy-image placeholder ${n}`,ref:c,children:(0,X.jsx)(`div`,{className:`placeholder-content`,children:(0,X.jsx)(`span`,{children:r||t.substring(0,2).toUpperCase()})})}):(0,X.jsxs)(`div`,{className:`lazy-image ${n}`,ref:c,children:[!i&&(0,X.jsx)(`div`,{className:`image-skeleton`}),l&&(0,X.jsx)(`img`,{src:e,alt:t,onLoad:()=>a(!0),onError:()=>s(!0),style:{opacity:i?1:0}})]})}),ge=(0,Y.memo)(function({rating:e}){return!e||e<=0?null:(0,X.jsxs)(`div`,{className:`rating-badge ${e>=7.5?`high`:e>=6?`medium`:`low`}`,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`12`,height:`12`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),(0,X.jsx)(`span`,{children:e.toFixed(1)})]})}),_e=(0,Y.memo)(function({cert:e}){return e?(0,X.jsx)(`div`,{className:`certification-badge ${`cert-${e.replace(`+`,``).toLowerCase()}`}`,children:e}):null}),Q=(0,Y.memo)(function({item:e,onSelect:t,size:n=`normal`}){let[r,i]=(0,Y.useState)(!1),a=e.type===`series`,o=e.tmdb,s=a&&`totalSeasons`in e?e.totalSeasons:0,c=a&&`totalEpisodes`in e?e.totalEpisodes:0;return(0,X.jsxs)(`div`,{className:`content-card ${n} ${r?`hovered`:``}`,onClick:()=>t(e),onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),role:`button`,tabIndex:0,onKeyDown:n=>{(n.key===`Enter`||n.key===` `)&&(n.preventDefault(),t(e))},children:[(0,X.jsxs)(`div`,{className:`card-poster`,children:[(0,X.jsx)(Z,{src:o?.poster,alt:o?.title||e.name,fallback:e.name.substring(0,2)}),o?.rating&&(0,X.jsx)(ge,{rating:o.rating}),(0,X.jsx)(_e,{cert:o?.certification}),(0,X.jsx)(`div`,{className:`type-indicator ${a?`series`:`movie`}`,children:a?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`12`,height:`12`,children:(0,X.jsx)(`path`,{d:`M21 3H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h5v2h8v-2h5c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 14H3V5h18v12z`})}),s&&(0,X.jsxs)(`span`,{children:[s,`T`]})]}):(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`12`,height:`12`,children:(0,X.jsx)(`path`,{d:`M18 4l2 4h-3l-2-4h-2l2 4h-3l-2-4H8l2 4H7L5 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4h-4z`})})}),(0,X.jsxs)(`div`,{className:`card-overlay`,children:[(0,X.jsxs)(`div`,{className:`overlay-info`,children:[o?.year&&(0,X.jsx)(`span`,{className:`year`,children:o.year}),a&&c&&(0,X.jsxs)(`span`,{className:`episodes`,children:[c,` eps`]})]}),(0,X.jsx)(`button`,{className:`play-btn`,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,children:(0,X.jsx)(`path`,{d:`M8 5v14l11-7z`})})})]})]}),(0,X.jsxs)(`div`,{className:`card-info`,children:[(0,X.jsx)(`h4`,{className:`card-title`,children:o?.title||e.name}),o?.genres&&o.genres.length>0&&(0,X.jsx)(`p`,{className:`card-genres`,children:o.genres.slice(0,4).join(` â€¢ `)})]})]})}),ve=(0,Y.memo)(function({actor:e,onSelect:t}){return(0,X.jsxs)(`div`,{className:`actor-card`,onClick:()=>t(e),role:`button`,tabIndex:0,onKeyDown:n=>{(n.key===`Enter`||n.key===` `)&&(n.preventDefault(),t(e))},children:[(0,X.jsx)(`div`,{className:`actor-photo`,children:(0,X.jsx)(Z,{src:e.photo,alt:e.name,fallback:e.name.substring(0,2)})}),(0,X.jsxs)(`div`,{className:`actor-info`,children:[(0,X.jsx)(`h5`,{className:`actor-name`,children:e.name}),e.character&&(0,X.jsx)(`p`,{className:`actor-character`,children:e.character})]})]})}),ye=(0,Y.memo)(function({filters:e,onChange:t,availableGenres:n,availableYears:r,availableCertifications:i,availableStreaming:a,onClear:o}){let[s,c]=(0,Y.useState)(!1),l=!!(e.genres?.length||e.years?.length||e.certifications?.length||e.streaming?.length||e.ratings?.length||e.type!==`all`||e.sortBy!==`popularity`),u=n=>{let r=e.genres||[],i=r.includes(n)?r.filter(e=>e!==n):[...r,n];t({...e,genres:i})},d=n=>{let r=e.years||[],i=r.includes(n)?r.filter(e=>e!==n):[...r,n];t({...e,years:i})},f=n=>{let r=e.certifications||[],i=r.includes(n)?r.filter(e=>e!==n):[...r,n];t({...e,certifications:i})},p=n=>{let r=e.streaming||[],i=r.includes(n)?r.filter(e=>e!==n):[...r,n];t({...e,streaming:i})},m=e=>{let t=e.toLowerCase();return t===`netflix`?`ðŸ”´`:t===`amazon prime video`?`ðŸ“¦`:t===`disney+`?`ðŸ°`:t===`max`?`ðŸ’œ`:t===`globoplay`?`ðŸŸ¢`:t===`apple tv+`?`ðŸŽ`:t===`paramount+`?`â›°ï¸`:t===`star+`?`â­`:t===`crunchyroll`?`ðŸ¥`:t===`discovery+`?`ðŸŒ`:t===`telecine`?`ðŸŽ¬`:t===`claro video`?`ðŸ“º`:t===`looke`?`ðŸ‘ï¸`:t===`mubi`?`ðŸŽ­`:t===`mgm+`||t===`lionsgate+`?`ðŸ¦`:t===`universal+`?`ðŸŒ`:t===`sony`?`ðŸ“€`:t===`oldflix`?`ðŸ“½ï¸`:t===`filmbox+`?`ðŸ“¼`:t===`univer video`?`â›ª`:t===`adult swim`?`ðŸŒŠ`:`ðŸ“¡`};return(0,X.jsxs)(`div`,{className:`advanced-filters ${s?`expanded`:``}`,children:[(0,X.jsxs)(`div`,{className:`filters-header`,children:[(0,X.jsxs)(`button`,{className:`filters-toggle ${l?`has-filters`:``}`,onClick:()=>c(!s),children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M22 3H2l8 9.46V19l4 2v-8.54L22 3z`})}),(0,X.jsx)(`span`,{children:`Filtros`}),l&&(0,X.jsx)(`span`,{className:`filter-count`,children:(e.genres?.length||0)+(e.years?.length||0)+(e.certifications?.length||0)+(e.streaming?.length||0)+(e.ratings?.length||0)}),(0,X.jsx)(`svg`,{className:`chevron`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M6 9l6 6 6-6`})})]}),l&&(0,X.jsxs)(`button`,{className:`clear-filters`,onClick:o,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M18 6L6 18M6 6l12 12`})}),`Limpar`]})]}),s&&(0,X.jsxs)(`div`,{className:`filters-content`,children:[(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`Tipo`}),(0,X.jsx)(`div`,{className:`filter-options type-options`,children:[`all`,`movie`,`series`].map(n=>(0,X.jsx)(`button`,{className:`filter-chip ${e.type===n?`active`:``}`,onClick:()=>t({...e,type:n}),children:n===`all`?`Todos`:n===`movie`?`Filmes`:`SÃ©ries`},n))})]}),(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`GÃªneros`}),(0,X.jsx)(`div`,{className:`filter-options genre-options`,children:n.map(t=>(0,X.jsx)(`button`,{className:`filter-chip ${e.genres?.includes(t)?`active`:``}`,onClick:()=>u(t),children:t},t))})]}),(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`Ano`}),(0,X.jsx)(`div`,{className:`filter-options year-options`,children:r.slice(0,20).map(t=>(0,X.jsx)(`button`,{className:`filter-chip ${e.years?.includes(t)?`active`:``}`,onClick:()=>d(t),children:t},t))})]}),(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`ClassificaÃ§Ã£o Indicativa`}),(0,X.jsx)(`div`,{className:`filter-options cert-options`,children:i.map(t=>(0,X.jsx)(`button`,{className:`filter-chip cert-chip cert-${t.replace(`+`,``).toLowerCase()} ${e.certifications?.includes(t)?`active`:``}`,onClick:()=>f(t),children:t},t))})]}),a.length>0&&(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`Onde Assistir`}),(0,X.jsx)(`div`,{className:`filter-options streaming-options`,children:a.map(t=>(0,X.jsxs)(`button`,{className:`filter-chip streaming-chip ${e.streaming?.includes(t)?`active`:``}`,onClick:()=>p(t),title:t,children:[(0,X.jsx)(`span`,{className:`streaming-icon`,children:m(t)}),(0,X.jsx)(`span`,{className:`streaming-name`,children:t})]},t))})]}),(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`AvaliaÃ§Ã£o`}),(0,X.jsxs)(`div`,{className:`filter-options rating-filter-options`,children:[(0,X.jsxs)(`button`,{className:`filter-chip rating-chip rating-excellent ${e.ratings?.includes(`9-10`)?`active`:``}`,onClick:()=>{let n=e.ratings||[],r=n.includes(`9-10`)?n.filter(e=>e!==`9-10`):[...n,`9-10`];t({...e,ratings:r})},children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`14`,height:`14`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),`9+`]}),(0,X.jsxs)(`button`,{className:`filter-chip rating-chip rating-great ${e.ratings?.includes(`7-8`)?`active`:``}`,onClick:()=>{let n=e.ratings||[],r=n.includes(`7-8`)?n.filter(e=>e!==`7-8`):[...n,`7-8`];t({...e,ratings:r})},children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`14`,height:`14`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),`7-8`]}),(0,X.jsxs)(`button`,{className:`filter-chip rating-chip rating-good ${e.ratings?.includes(`5-6`)?`active`:``}`,onClick:()=>{let n=e.ratings||[],r=n.includes(`5-6`)?n.filter(e=>e!==`5-6`):[...n,`5-6`];t({...e,ratings:r})},children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`14`,height:`14`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),`5-6`]})]})]}),(0,X.jsxs)(`div`,{className:`filter-group`,children:[(0,X.jsx)(`h4`,{children:`Ordenar por`}),(0,X.jsxs)(`div`,{className:`filter-options sort-options`,children:[(0,X.jsxs)(`select`,{value:e.sortBy||`popularity`,onChange:n=>t({...e,sortBy:n.target.value}),children:[(0,X.jsx)(`option`,{value:`popularity`,children:`Popularidade`}),(0,X.jsx)(`option`,{value:`rating`,children:`AvaliaÃ§Ã£o`}),(0,X.jsx)(`option`,{value:`year`,children:`Ano`}),(0,X.jsx)(`option`,{value:`name`,children:`Nome`})]}),(0,X.jsx)(`button`,{className:`sort-order ${e.sortOrder===`asc`?`asc`:`desc`}`,onClick:()=>t({...e,sortOrder:e.sortOrder===`asc`?`desc`:`asc`}),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M12 5v14M19 12l-7 7-7-7`})})})]})]})]})]})}),be=(0,Y.memo)(function({value:e,onChange:t,onActorSelect:n,placeholder:r=`Buscar filmes, sÃ©ries, atores...`}){let[i,a]=(0,Y.useState)(!1),[o,s]=(0,Y.useState)([]),c=(0,Y.useRef)(null),l=(0,Y.useRef)(null);(0,Y.useEffect)(()=>(l.current!==null&&clearTimeout(l.current),e.length>=2?l.current=window.setTimeout(()=>{s(oe(e).slice(0,5))},300):s([]),()=>{l.current!==null&&clearTimeout(l.current)}),[e]);let u=e=>{s([]),t(``),n?.(e)};return(0,X.jsxs)(`div`,{className:`search-bar ${i?`focused`:``}`,children:[(0,X.jsxs)(`svg`,{className:`search-icon`,viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:[(0,X.jsx)(`circle`,{cx:`11`,cy:`11`,r:`8`}),(0,X.jsx)(`path`,{d:`M21 21l-4.35-4.35`})]}),(0,X.jsx)(`input`,{ref:c,type:`text`,value:e,onChange:e=>t(e.target.value),onFocus:()=>a(!0),onBlur:()=>setTimeout(()=>a(!1),200),placeholder:r}),e&&(0,X.jsx)(`button`,{className:`clear-search`,onClick:()=>t(``),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M18 6L6 18M6 6l12 12`})})}),o.length>0&&i&&(0,X.jsxs)(`div`,{className:`actor-suggestions`,children:[(0,X.jsx)(`p`,{className:`suggestions-title`,children:`Atores encontrados:`}),o.map(e=>(0,X.jsxs)(`button`,{className:`actor-suggestion`,onMouseDown:()=>u(e),children:[(0,X.jsx)(`div`,{className:`suggestion-photo`,children:(0,X.jsx)(Z,{src:e.photo,alt:e.name})}),(0,X.jsx)(`span`,{children:e.name})]},e.id))]})]})}),$=(0,Y.memo)(function({title:e,items:t,onSelect:n,onSeeAll:r,loading:i=!1}){let a=(0,Y.useRef)(null),[o,s]=(0,Y.useState)(!1),[c,l]=(0,Y.useState)(!0),u=(0,Y.useCallback)(()=>{if(a.current){let{scrollLeft:e,scrollWidth:t,clientWidth:n}=a.current;s(e>10),l(e<t-n-10)}},[]);(0,Y.useEffect)(()=>{u();let e=a.current;if(e)return e.addEventListener(`scroll`,u),()=>e.removeEventListener(`scroll`,u)},[u,t.length]);let d=e=>{if(a.current){let t=a.current.clientWidth*.8;a.current.scrollBy({left:e===`left`?-t:t,behavior:`smooth`})}};return i?(0,X.jsxs)(`section`,{className:`category-carousel-section`,children:[(0,X.jsx)(`div`,{className:`carousel-header`,children:(0,X.jsx)(`h3`,{children:e})}),(0,X.jsx)(`div`,{className:`carousel-skeleton`,children:[...[,,,,,,]].map((e,t)=>(0,X.jsx)(`div`,{className:`skeleton-card`,children:(0,X.jsx)(`div`,{className:`skeleton-shimmer`})},t))})]}):t.length===0?null:(0,X.jsxs)(`section`,{className:`category-carousel-section`,children:[(0,X.jsxs)(`div`,{className:`carousel-header`,children:[(0,X.jsx)(`h3`,{children:e}),r&&(0,X.jsxs)(`button`,{className:`see-all-btn`,onClick:r,children:[`Ver todos`,(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M9 18l6-6-6-6`})})]})]}),(0,X.jsxs)(`div`,{className:`carousel-wrapper`,children:[o&&(0,X.jsx)(`button`,{className:`carousel-nav prev`,onClick:()=>d(`left`),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M15 18l-6-6 6-6`})})}),(0,X.jsx)(`div`,{className:`carousel-track`,ref:a,children:t.map(e=>(0,X.jsx)(Q,{item:e,onSelect:n},e.id))}),c&&(0,X.jsx)(`button`,{className:`carousel-nav next`,onClick:()=>d(`right`),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M9 18l6-6-6-6`})})})]})]})}),xe=(0,Y.memo)(function({items:e,onSelect:t}){let[n,r]=(0,Y.useState)(0),[i,a]=(0,Y.useState)(!1);if((0,Y.useEffect)(()=>{if(e.length<=1||i)return;let t=setInterval(()=>{r(t=>(t+1)%e.length)},8e3);return()=>clearInterval(t)},[e.length,i]),e.length===0)return null;let o=e[n],s=o.tmdb;return(0,X.jsxs)(`div`,{className:`hero-banner`,onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),children:[(0,X.jsxs)(`div`,{className:`hero-backdrop`,children:[s?.backdrop?(0,X.jsx)(`img`,{src:s.backdropHD||s.backdrop,alt:s.title,className:`hero-image`}):s?.poster?(0,X.jsx)(`img`,{src:s.posterHD||s.poster,alt:s.title,className:`hero-image poster-fallback`}):null,(0,X.jsx)(`div`,{className:`hero-gradient`})]}),(0,X.jsxs)(`div`,{className:`hero-content`,children:[(0,X.jsx)(`div`,{className:`hero-badge`,children:o.type===`series`?`ðŸ“º SÃ©rie em Destaque`:`ðŸŽ¬ Filme em Destaque`}),(0,X.jsx)(`h1`,{className:`hero-title`,children:s?.title||o.name}),(0,X.jsxs)(`div`,{className:`hero-meta`,children:[s?.rating&&s.rating>0&&(0,X.jsxs)(`span`,{className:`hero-rating ${s.rating>=7?`high`:s.rating>=5?`medium`:`low`}`,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,width:`16`,height:`16`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),s.rating.toFixed(1)]}),(0,X.jsx)(_e,{cert:s?.certification}),s?.year&&(0,X.jsx)(`span`,{className:`hero-year`,children:s.year}),s?.runtime&&(0,X.jsxs)(`span`,{className:`hero-runtime`,children:[Math.floor(s.runtime/60),`h `,s.runtime%60,`min`]}),s?.genres&&(0,X.jsx)(`span`,{className:`hero-genres`,children:s.genres.slice(0,6).join(` â€¢ `)})]}),s?.overview&&(0,X.jsx)(`p`,{className:`hero-overview`,children:s.overview.length>250?s.overview.substring(0,250)+`...`:s.overview}),(0,X.jsxs)(`div`,{className:`hero-actions`,children:[(0,X.jsxs)(`button`,{className:`hero-play-btn`,onClick:()=>t(o),children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,children:(0,X.jsx)(`path`,{d:`M8 5v14l11-7z`})}),`Assistir`]}),(0,X.jsxs)(`button`,{className:`hero-info-btn`,onClick:()=>t(o),children:[(0,X.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:[(0,X.jsx)(`circle`,{cx:`12`,cy:`12`,r:`10`}),(0,X.jsx)(`path`,{d:`M12 16v-4M12 8h.01`})]}),`Mais Info`]})]})]}),e.length>1&&(0,X.jsx)(`div`,{className:`hero-indicators`,children:e.map((e,t)=>(0,X.jsx)(`button`,{className:`hero-indicator ${t===n?`active`:``}`,onClick:()=>r(t)},t))}),e.length>1&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`button`,{className:`hero-nav prev`,onClick:()=>r(t=>t===0?e.length-1:t-1),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M15 18l-6-6 6-6`})})}),(0,X.jsx)(`button`,{className:`hero-nav next`,onClick:()=>r(t=>(t+1)%e.length),children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M9 18l6-6-6-6`})})})]})]})}),Se=(0,Y.memo)(function({item:e,onClose:t,onPlay:n,onActorClick:r,onRecommendationClick:i,onFavoriteChange:a}){let o=(0,Y.useRef)(null),[s,c]=(0,Y.useState)(null),[l,u]=(0,Y.useState)(()=>K(e.id)),d=e.tmdb,f=e.type===`series`&&`episodes`in e,p=f?e:null,m=(0,Y.useMemo)(()=>ce(e),[e]),h=(0,Y.useMemo)(()=>le(e,6),[e]),g=(0,Y.useMemo)(()=>p?.episodes?Object.keys(p.episodes).sort((e,t)=>parseInt(e)-parseInt(t)):[],[p]);(0,Y.useEffect)(()=>{g.length>0&&!s&&c(g[0])},[g,s]),(0,Y.useEffect)(()=>(document.body.style.overflow=`hidden`,()=>{document.body.style.overflow=``}),[]),(0,Y.useEffect)(()=>{let e=e=>{e.key===`Escape`&&t()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[t]);let _=e=>{e.target===o.current&&t()},v=e=>{if(!e)return``;let t=Math.floor(e/60),n=e%60;return t>0?`${t}h ${n}min`:`${n}min`},y=t=>{n(e,t.url)};return(0,X.jsx)(`div`,{className:`movie-modal-backdrop`,ref:o,onClick:_,children:(0,X.jsxs)(`div`,{className:`movie-modal`,children:[d?.backdrop&&(0,X.jsxs)(`div`,{className:`modal-backdrop`,children:[(0,X.jsx)(`img`,{src:d.backdropHD||d.backdrop,alt:``}),(0,X.jsx)(`div`,{className:`modal-backdrop-gradient`})]}),(0,X.jsxs)(`div`,{className:`modal-top-buttons`,children:[(0,X.jsx)(`button`,{className:`modal-favorite ${l?`active`:``}`,onClick:()=>{u(me(e.id)),a?.()},title:l?`Remover dos favoritos`:`Adicionar aos favoritos`,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:l?`currentColor`:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z`})})}),(0,X.jsx)(`button`,{className:`modal-close`,onClick:t,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M18 6L6 18M6 6l12 12`})})})]}),(0,X.jsxs)(`div`,{className:`modal-content`,children:[(0,X.jsxs)(`div`,{className:`modal-header`,children:[(0,X.jsxs)(`div`,{className:`modal-poster`,children:[(0,X.jsx)(Z,{src:d?.posterHD||d?.poster,alt:d?.title||e.name}),d?.certification&&(0,X.jsx)(_e,{cert:d.certification})]}),(0,X.jsxs)(`div`,{className:`modal-info`,children:[(0,X.jsx)(`h1`,{className:`modal-title`,children:d?.title||e.name}),d?.originalTitle&&d.originalTitle!==d.title&&(0,X.jsx)(`p`,{className:`modal-original-title`,children:d.originalTitle}),d?.tagline&&(0,X.jsxs)(`p`,{className:`modal-tagline`,children:[`"`,d.tagline,`"`]}),(0,X.jsxs)(`div`,{className:`modal-meta`,children:[d?.rating&&d.rating>0&&(0,X.jsxs)(`div`,{className:`rating-large ${d.rating>=7?`high`:d.rating>=5?`medium`:`low`}`,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,children:(0,X.jsx)(`path`,{d:`M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z`})}),(0,X.jsx)(`span`,{className:`rating-value`,children:d.rating.toFixed(1)}),(0,X.jsxs)(`span`,{className:`rating-votes`,children:[`(`,d.voteCount?.toLocaleString(`pt-BR`),` votos)`]})]}),d?.year&&(0,X.jsx)(`span`,{className:`meta-item`,children:d.year}),d?.runtime&&(0,X.jsx)(`span`,{className:`meta-item`,children:v(d.runtime)}),p&&(0,X.jsxs)(`span`,{className:`meta-item`,children:[p.totalSeasons,` Temporada`,(p.totalSeasons||0)>1?`s`:``]})]}),d?.overview&&(0,X.jsxs)(`div`,{className:`modal-overview`,children:[(0,X.jsx)(`h3`,{children:`Sinopse`}),(0,X.jsx)(`p`,{children:d.overview})]}),d?.genres&&d.genres.length>0&&(0,X.jsx)(`div`,{className:`modal-genres`,children:d.genres.map(e=>(0,X.jsx)(`span`,{className:`genre-tag`,children:e},e))}),!f&&(0,X.jsx)(`div`,{className:`modal-actions`,children:(0,X.jsxs)(`button`,{className:`play-btn-large`,onClick:()=>n(e),children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,children:(0,X.jsx)(`path`,{d:`M8 5v14l11-7z`})}),`Assistir Agora`]})})]})]}),f&&p&&g.length>0&&(0,X.jsxs)(`div`,{className:`modal-episodes`,children:[(0,X.jsx)(`h3`,{children:`EpisÃ³dios`}),(0,X.jsx)(`div`,{className:`season-tabs`,children:g.map(e=>(0,X.jsxs)(`button`,{className:`season-tab ${s===e?`active`:``}`,onClick:()=>c(e),children:[`Temporada `,e,(0,X.jsxs)(`span`,{className:`episode-count`,children:[p.episodes[e]?.length||0,` eps`]})]},e))}),s&&p.episodes[s]&&(0,X.jsx)(`div`,{className:`episodes-list`,children:p.episodes[s].map((e,t)=>(0,X.jsxs)(`button`,{className:`episode-item`,onClick:()=>y(e),children:[(0,X.jsx)(`div`,{className:`episode-number`,children:(0,X.jsx)(`span`,{children:e.episode||t+1})}),(0,X.jsx)(`div`,{className:`episode-info`,children:(0,X.jsxs)(`span`,{className:`episode-title`,children:[`EpisÃ³dio `,e.episode||t+1]})}),(0,X.jsx)(`div`,{className:`episode-play`,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`currentColor`,children:(0,X.jsx)(`path`,{d:`M8 5v14l11-7z`})})})]},e.id||t))})]}),d?.cast&&d.cast.length>0&&(0,X.jsxs)(`div`,{className:`modal-cast`,children:[(0,X.jsx)(`h3`,{children:`Elenco`}),(0,X.jsx)(`div`,{className:`cast-grid`,children:d.cast.slice(0,30).map(e=>(0,X.jsx)(ve,{actor:e,onSelect:r},e.id))})]}),m.length>0&&(0,X.jsxs)(`div`,{className:`modal-recommendations`,children:[(0,X.jsx)(`h3`,{children:`TambÃ©m pode gostar`}),(0,X.jsx)(`div`,{className:`recommendations-grid`,children:m.map(e=>(0,X.jsx)(Q,{item:e,onSelect:i,size:`small`},e.id))})]}),h.length>0&&(0,X.jsxs)(`div`,{className:`modal-similar`,children:[(0,X.jsx)(`h3`,{children:`TÃ­tulos Similares`}),(0,X.jsx)(`div`,{className:`similar-grid`,children:h.map(e=>(0,X.jsx)(Q,{item:e,onSelect:i,size:`small`},e.id))})]}),(0,X.jsxs)(`div`,{className:`modal-extra-info`,children:[d?.companies&&d.companies.length>0&&(0,X.jsxs)(`p`,{children:[(0,X.jsx)(`strong`,{children:`ProduÃ§Ã£o:`}),` `,d.companies.join(`, `)]}),d?.countries&&d.countries.length>0&&(0,X.jsxs)(`p`,{children:[(0,X.jsx)(`strong`,{children:`PaÃ­s:`}),` `,d.countries.join(`, `)]}),d?.keywords&&d.keywords.length>0&&(0,X.jsxs)(`div`,{className:`keywords`,children:[(0,X.jsx)(`strong`,{children:`Tags:`}),(0,X.jsx)(`div`,{className:`keyword-list`,children:d.keywords.slice(0,20).map(e=>(0,X.jsx)(`span`,{className:`keyword`,children:e},e))})]})]})]})]})})}),Ce=(0,Y.memo)(function({actor:e,onClose:t,onSelectItem:n}){let r=(0,Y.useRef)(null),i=(0,Y.useMemo)(()=>ae(e.id),[e.id]);(0,Y.useEffect)(()=>(document.body.style.overflow=`hidden`,()=>{document.body.style.overflow=``}),[]),(0,Y.useEffect)(()=>{let e=e=>{e.key===`Escape`&&t()};return window.addEventListener(`keydown`,e),()=>window.removeEventListener(`keydown`,e)},[t]);let a=e=>{e.target===r.current&&t()};if(!i)return(0,X.jsx)(`div`,{className:`actor-modal-backdrop`,ref:r,onClick:a,children:(0,X.jsxs)(`div`,{className:`actor-modal`,children:[(0,X.jsx)(`button`,{className:`modal-close`,onClick:t,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M18 6L6 18M6 6l12 12`})})}),(0,X.jsx)(`div`,{className:`actor-modal-empty`,children:(0,X.jsx)(`p`,{children:`Nenhum conteÃºdo encontrado para este ator.`})})]})});let o=i.movies.length+i.series.length;return(0,X.jsx)(`div`,{className:`actor-modal-backdrop`,ref:r,onClick:a,children:(0,X.jsxs)(`div`,{className:`actor-modal`,children:[(0,X.jsx)(`button`,{className:`modal-close`,onClick:t,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M18 6L6 18M6 6l12 12`})})}),(0,X.jsxs)(`div`,{className:`actor-modal-content`,children:[(0,X.jsxs)(`div`,{className:`actor-modal-header`,children:[(0,X.jsx)(`div`,{className:`actor-modal-photo`,children:(0,X.jsx)(Z,{src:e.photo,alt:e.name,fallback:e.name.substring(0,2)})}),(0,X.jsxs)(`div`,{className:`actor-modal-info`,children:[(0,X.jsx)(`h1`,{children:e.name}),(0,X.jsxs)(`p`,{className:`actor-works-count`,children:[o,` tÃ­tulo`,o>1?`s`:``,` no catÃ¡logo`]})]})]}),i.movies.length>0&&(0,X.jsxs)(`div`,{className:`actor-filmography-section`,children:[(0,X.jsxs)(`h3`,{children:[`Filmes (`,i.movies.length,`)`]}),(0,X.jsx)(`div`,{className:`filmography-grid`,children:i.movies.map(e=>(0,X.jsx)(Q,{item:e,onSelect:n,size:`small`},e.id))})]}),i.series.length>0&&(0,X.jsxs)(`div`,{className:`actor-filmography-section`,children:[(0,X.jsxs)(`h3`,{children:[`SÃ©ries (`,i.series.length,`)`]}),(0,X.jsx)(`div`,{className:`filmography-grid`,children:i.series.map(e=>(0,X.jsx)(Q,{item:e,onSelect:n,size:`small`},e.id))})]})]})]})})}),we=(0,Y.memo)(function({categoryName:e,filters:t,onSelect:n,onBack:r}){let[i,a]=(0,Y.useState)([]),[o,s]=(0,Y.useState)(!0),[c,l]=(0,Y.useState)(1);(0,Y.useEffect)(()=>{s(!0),O(e).then(n=>{let r=N(e,t);a(r.length>0?r:n),s(!1)})},[e,t]);let u=i.slice(0,c*30),d=u.length<i.length;return o?(0,X.jsxs)(`div`,{className:`category-grid-page`,children:[(0,X.jsxs)(`div`,{className:`grid-header`,children:[(0,X.jsxs)(`button`,{className:`back-btn`,onClick:r,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})}),`Voltar`]}),(0,X.jsx)(`h2`,{children:e})]}),(0,X.jsx)(`div`,{className:`grid-skeleton`,children:[...Array(12)].map((e,t)=>(0,X.jsx)(`div`,{className:`skeleton-card`,children:(0,X.jsx)(`div`,{className:`skeleton-shimmer`})},t))})]}):(0,X.jsxs)(`div`,{className:`category-grid-page`,children:[(0,X.jsxs)(`div`,{className:`grid-header`,children:[(0,X.jsxs)(`button`,{className:`back-btn`,onClick:r,children:[(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})}),`Voltar`]}),(0,X.jsx)(`h2`,{children:e}),(0,X.jsxs)(`span`,{className:`items-count`,children:[i.length,` tÃ­tulos`]})]}),(0,X.jsx)(`div`,{className:`content-grid`,children:u.map(e=>(0,X.jsx)(Q,{item:e,onSelect:n},e.id))}),d&&(0,X.jsx)(`div`,{className:`load-more`,children:(0,X.jsxs)(`button`,{onClick:()=>{l(e=>e+1)},children:[`Carregar mais`,(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M6 9l6 6 6-6`})})]})})]})});function Te({onSelectMovie:e,onBack:t,isAdultUnlocked:n=!1}){let[r,i]=(0,Y.useState)(!1),[a,o]=(0,Y.useState)(``),[s,c]=(0,Y.useState)([]),[l,u]=(0,Y.useState)(1),[d,f]=(0,Y.useState)({type:`all`,sortBy:`popularity`,sortOrder:`desc`}),[p,m]=(0,Y.useState)(null),[h,g]=(0,Y.useState)({type:null,data:null}),[_,v]=(0,Y.useState)(new Map),[y,b]=(0,Y.useState)([]),[x,S]=(0,Y.useState)([]),[C,ee]=(0,Y.useState)([]),[D,k]=(0,Y.useState)([]),[N,ae]=(0,Y.useState)([]),[oe,se]=(0,Y.useState)([]),[P,ce]=(0,Y.useState)(!0),[le,de]=(0,Y.useState)([]),F=(0,Y.useCallback)(()=>{de(he())},[]);(0,Y.useEffect)(()=>{A().then(()=>{i(!0),b(te()),S(j()),ee(M()),k(ne()),T.forEach(e=>{O(e).then(t=>{v(n=>new Map(n).set(e,t))})}),ce(!0),Promise.all([fe(),pe()]).then(([e,t])=>{ae(e),se(t)}).catch(e=>{console.error(`Erro ao carregar tendÃªncias:`,e)}).finally(()=>{ce(!1)}),F()})},[F]),(0,Y.useEffect)(()=>{let e=()=>{F()};return window.addEventListener(`favorites-changed`,e),()=>window.removeEventListener(`favorites-changed`,e)},[F]);let I=(0,Y.useMemo)(()=>!!(d.genres?.length||d.years?.length||d.certifications?.length||d.streaming?.length||d.ratings?.length||d.type&&d.type!==`all`),[d]);(0,Y.useEffect)(()=>{u(1),a.length>=2?c(re(a,d)):c(I?ie(d):[])},[a,d,I]);let L=(0,Y.useCallback)(e=>{g({type:e.type,data:e})},[]),R=(0,Y.useCallback)((t,n)=>{g({type:null,data:null}),e(t,n)},[e]),z=(0,Y.useCallback)(e=>{g({type:`actor`,data:e})},[]),B=(0,Y.useCallback)(e=>{g({type:e.type,data:e})},[]),V=(0,Y.useCallback)(()=>{g({type:null,data:null})},[]),H=(0,Y.useCallback)(()=>{f({type:`all`,sortBy:`popularity`,sortOrder:`desc`})},[]),U=(0,Y.useCallback)(e=>{m(e)},[]),W=(0,Y.useCallback)(()=>{m(null)},[]),G=(0,Y.useCallback)(()=>{u(e=>e+1)},[]),K=(0,Y.useMemo)(()=>s.slice(0,l*60),[s,l]),q=K.length<s.length,J=(0,Y.useRef)(null);return(0,Y.useEffect)(()=>{if(!q||!J.current)return;let e=new IntersectionObserver(e=>{e[0].isIntersecting&&G()},{threshold:.1,rootMargin:`100px`});return e.observe(J.current),()=>e.disconnect()},[q,G]),r?p?(0,X.jsxs)(`div`,{className:`movie-catalog-v2`,children:[(0,X.jsx)(we,{categoryName:p,filters:d,onSelect:L,onBack:W}),h.type===`movie`||h.type===`series`?(0,X.jsx)(Se,{item:h.data,onClose:V,onPlay:R,onActorClick:z,onRecommendationClick:B,onFavoriteChange:F}):h.type===`actor`?(0,X.jsx)(Ce,{actor:h.data,onClose:V,onSelectItem:L}):null]}):(0,X.jsxs)(`div`,{className:`movie-catalog-v2`,children:[(0,X.jsxs)(`header`,{className:`catalog-header`,children:[(0,X.jsx)(`button`,{className:`back-btn`,onClick:t,children:(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M19 12H5M12 19l-7-7 7-7`})})}),(0,X.jsx)(be,{value:a,onChange:o,onActorSelect:z}),(0,X.jsx)(ye,{filters:d,onChange:f,availableGenres:y,availableYears:x,availableCertifications:C,availableStreaming:D,onClear:H})]}),(0,X.jsx)(`main`,{className:`catalog-main`,children:s.length>0?(0,X.jsxs)(`section`,{className:`search-results`,children:[(0,X.jsx)(`h2`,{children:a.length>=2?`Resultados para "${a}"`:`ConteÃºdo Filtrado`}),(0,X.jsxs)(`p`,{className:`results-count`,children:[s.length,` `,s.length===1?`resultado encontrado`:`resultados encontrados`,I&&(0,X.jsxs)(`span`,{className:`filter-info`,children:[` â€¢ `,d.type!==`all`&&(d.type===`movie`?`Filmes`:`SÃ©ries`),d.genres?.length?` â€¢ ${d.genres.join(`, `)}`:``,d.years?.length?` â€¢ ${d.years.join(`, `)}`:``]})]}),(0,X.jsx)(`div`,{className:`content-grid`,children:K.map(e=>(0,X.jsx)(Q,{item:e,onSelect:L},e.id))}),q&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(`div`,{ref:J,style:{height:`1px`,margin:`20px 0`}}),(0,X.jsx)(`div`,{className:`load-more`,children:(0,X.jsxs)(`button`,{onClick:G,children:[`Carregar mais (`,s.length-K.length,` restantes)`,(0,X.jsx)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`2`,children:(0,X.jsx)(`path`,{d:`M6 9l6 6 6-6`})})]})})]})]}):a.length>0||I?(0,X.jsx)(`section`,{className:`no-results`,children:(0,X.jsxs)(`div`,{className:`no-results-content`,children:[(0,X.jsxs)(`svg`,{viewBox:`0 0 24 24`,fill:`none`,stroke:`currentColor`,strokeWidth:`1.5`,children:[(0,X.jsx)(`circle`,{cx:`11`,cy:`11`,r:`8`}),(0,X.jsx)(`path`,{d:`M21 21l-4.35-4.35`})]}),(0,X.jsx)(`h3`,{children:`Nenhum resultado encontrado`}),(0,X.jsx)(`p`,{children:I?`Tente ajustar os filtros ou limpar a seleÃ§Ã£o.`:`Tente buscar por outro termo.`}),I&&(0,X.jsx)(`button`,{className:`clear-filters-btn`,onClick:H,children:`Limpar Filtros`})]})}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(xe,{items:N.slice(0,20),onSelect:L}),le.length>0&&(0,X.jsx)($,{title:`â¤ï¸ Meus Favoritos`,items:le.slice(0,50),onSelect:L}),(P||N.length>0)&&(0,X.jsx)($,{title:`ðŸ”¥ TendÃªncias de Hoje`,items:N,onSelect:L,loading:P}),(P||oe.length>0)&&(0,X.jsx)($,{title:`ðŸ“… TendÃªncias da Semana`,items:oe,onSelect:L,loading:P}),T.map(e=>(0,X.jsx)($,{title:e,items:(_.get(e)||[]).slice(0,30),onSelect:L,onSeeAll:()=>U(e),loading:!_.has(e)},e)),(0,X.jsx)($,{title:`ðŸŽ¬ LanÃ§amentos`,items:ue(20),onSelect:L,onSeeAll:()=>U(`ðŸŽ¬ LanÃ§amentos`)}),E.map(e=>{let t=_.get(e)||[];return _.has(e)||O(e).then(t=>{v(n=>new Map(n).set(e,t))}),(0,X.jsx)($,{title:e,items:t.slice(0,30),onSelect:L,onSeeAll:()=>U(e),loading:!_.has(e)},e)}),n&&w.map(e=>{let t=e.name,n=_.get(t)||[];return _.has(t)||O(t).then(e=>{v(n=>new Map(n).set(t,e))}),(0,X.jsx)($,{title:t,items:n.slice(0,30),onSelect:L,onSeeAll:()=>U(t),loading:!_.has(t)},t)})]})}),h.type===`movie`||h.type===`series`?(0,X.jsx)(Se,{item:h.data,onClose:V,onPlay:R,onActorClick:z,onRecommendationClick:B,onFavoriteChange:F}):h.type===`actor`?(0,X.jsx)(Ce,{actor:h.data,onClose:V,onSelectItem:L}):null]}):(0,X.jsx)(`div`,{className:`catalog-loading`,children:(0,X.jsxs)(`div`,{className:`loading-content`,children:[(0,X.jsx)(`div`,{className:`loading-spinner`}),(0,X.jsx)(`h2`,{children:`Carregando catÃ¡logo...`}),(0,X.jsx)(`p`,{children:`Preparando sua experiÃªncia de streaming`})]})})}var Ee=Te;export{r as i,Ee as n,a as r,Te as t};